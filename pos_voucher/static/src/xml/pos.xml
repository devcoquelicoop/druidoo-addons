<?xml version="1.0" encoding="UTF-8"?>
<templates id="template" xml:space="preserve">

    <t t-name="alert_input">
        <div class="swal2-container swal2-fade swal2-in" style="overflow-y: auto;">
            <div class="swal2-modal swal2-show"
                 style="display: block; width: 500px; padding: 20px; background: #F0EEEE; min-height: 340px;"
                 tabindex="-1">
                <h2><t t-esc=" widget.options.title || 'Confirm ?' " /></h2>
                <div class="swal2-content" style="display: block;"><t t-esc="  widget.options.body || '' "/>
                </div>
                <div class="row" style="padding-bottom: 40px; padding-top: 40px">
                    <div class="form-group label-floating is-empty">
                        <input type="text" class="input_form" style="font-size:25px;height:35px;width:275px;border:1px #c57272 !important;"
                        t-att-id="widget.options.title == 'Voucher' ? 'txt_voucher_number' : 'txt_1'" />
                    </div>
                </div>
                <div class="footer">
                    <span type="button" class="btn btn-success button confirm">Yes</span>
                    <span type="button" class="btn btn-danger button cancel">Close</span>
                </div>
            </div>
        </div>
    </t>

    <t t-extend="PaymentScreen-Paymentmethods">
        <t t-jquery=".paymentmethod" t-operation="replace">
            <div class="button paymentmethod" t-att-data-id="cashregister.journal_id[0]">
                <t t-if="!cashregister.is_voucher"
                   t-esc="cashregister.journal_id[1]" />
            </div>
        </t>
    </t>
    <t t-extend="PaymentScreenWidget">
        <t t-jquery=".payment-buttons" t-operation="append">
            <div class='button voucher_redeem'>
                <i class="fa fa-gift" aria-hidden="true"></i> Voucher
            </div>
            <div class='button customer_vouchers'>
                <i class="fa fa-gift" aria-hidden="true"></i> Select Voucher
            </div>
        </t>
    </t>

    <!-- Voucher screen list -->
    <t t-name="voucherListScreenWidget">
        <div class="clientlist-screen screen">
            <div class="screen-content">
                <section class="top-content">
                    <span class='button back'>
                        <i class='fa fa-angle-double-left'></i>
                        Cancel
                    </span>
                    <span class='button next highlight'>
                        Set Voucher
                        <i class='fa fa-angle-double-right'></i>
                    </span>
                </section>
                <section class="full-content">
                    <div class='window'>
                        <section class='subwindow collapsed'>
                            <div class='subwindow-container collapsed'>
                                <div class='subwindow-container-fix voucher-details-contents'>
                                </div>
                            </div>
                        </section>
                        <section class='subwindow'>
                            <div class='subwindow-container'>
                                <div class='subwindow-container-fix touch-scrollable scrollable-y'>
                                    <table class='client-list'>
                                        <thead>
                                            <tr>
                                                <th>Code</th>
                                                <th>Total Amount</th>
                                                <th>Pending Amount</th>
                                            </tr>
                                        </thead>
                                        <tbody class='voucher-list-contents'>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </section>
                    </div>
                </section>
            </div>
        </div>
    </t>
    
    <t t-name="voucherLine">
        <tr class='client-list' t-att-data-id='voucher.id'>
            <td><t t-esc='voucher.code' /></td>
            <td><t t-esc='voucher.total_amount' /></td>
            <td><t t-esc='voucher.pending_amount' /></td>
        </tr>
    </t>

    <t t-name="VoucherGenerateButton">
        <div class='control-button js_voucher_generate'>
            <i class='fa fa-tag' />Generate Voucher
        </div>
    </t>

    <t t-name="popupVoucherGenerate">
        <div role="dialog" class="modal-dialog">
            <div class="popup popup-text">
                <header class="title"><t t-esc=" widget.options.title || '' " /></header>
                <main class='packlot-lines'>
                    <div class="row">
                        <span class='label'>Voucher Type</span>
                        <select class='detail needsclick' name='voucher_type_selection' id='voucher_type_selection'>
                            <t t-foreach="widget.options.list || []" t-as="item">
                                <option t-att-value='item.id'>
                                    <t t-esc='item.name' />
                                </option>
                            </t>
                        </select>
                    </div>
                    <br/>
                    <div class="row">
                        <span class='label'>Amount</span>
                        <input type="text" class="input_form" name="voucher_amount" id="voucher_amount"
                               style="font-size:12px;height:15px;width:125px;border:1px #c57272 !important;" />
                    </div>
                </main>
                <footer class="footer">
                    <div class="button confirm">
                        Ok
                    </div>
                    <div class="button cancel">
                        Cancel
                    </div>
                </footer>
            </div>
        </div>
    </t>

    <t t-extend="ReceiptScreenWidget">
        <t t-jquery=".button.print" t-operation="after">
            <div class='button print_voucher'>
                <i class='fa fa-print'></i> Print Voucher
            </div>
        </t>
    </t>

    <t t-name="PosTicketVoucher">
        <div class="pos-sale-ticket" style="display:block;">
            <t t-set="count" t-value="" />
            <t t-foreach="pos_voucher" t-as="o">
                <div style="width: 100%;height: 100%;page-break-before: always;top: 100%;">
                    <div style="text-align:center">
                        <h2 t-esc="o.code"/>
                        <span t-esc="o.company_name"/><br/>
                        Tel:<span t-esc="o.company_phone"/><br/>
                        <span t-esc="o.company_email"/><br/>
                        <span t-esc="o.company_website"/><br/><br/>
                        <span>Please Keep Your Voucher Code Safe</span><br/>
                        <img t-att-src="'/report/barcode/?type=%s&amp;value=%s&amp;width=%s&amp;height=%s&amp;humanreadable=0' % ('Code128', o.code, 600, 100)"
                                  style="width:300px;height:50px"/>
                        Voucher Value: <span t-esc="o.pending_amount"/><br/>
                    </div>
                </div>
            </t>
        </div>
    </t>

    <t t-name="XmlReceiptvoucher">
        <receipt align='center' width='32' value-thousands-separator='' >
            <div class='orderlines' line-ratio='0.6'>
                <t t-foreach='pos_voucher' t-as='voucher'>
                    <div style="width: 100%;height: 100%;page-break-before: always;top: 100%;">
                        <div style="text-align:center">
                            <h2 t-esc="voucher.code"/>
                            <span t-esc="voucher.company_name"/><br/>
                            Tel:<span t-esc="voucher.company_phone"/><br/>
                            <span t-esc="voucher.company_email"/><br/>
                            <span t-esc="voucher.company_website"/><br/><br/>
                            <span>Please Keep Your Voucher Code Safe</span><br/>
                            <img t-att-src="'/report/barcode/?type=%s&amp;value=%s&amp;width=%s&amp;height=%s&amp;humanreadable=0' % ('Code128', voucher.code, 600, 100)"
                                      style="width:300px;height:50px"/>
                            Voucher Value: <span t-esc="voucher.pending_amount"/><br/>
                        </div>
                    </div>
                    <cut/>
                </t>
            </div>
        </receipt>
    </t>

</templates>
